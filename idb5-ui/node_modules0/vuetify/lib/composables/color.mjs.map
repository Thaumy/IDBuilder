{"version":3,"sources":["../../src/composables/color.ts"],"names":["computed","isRef","isCssColor","useColor","colors","backgroundIsCssColor","value","background","textIsCssColor","text","colorClasses","classes","push","colorStyles","styles","backgroundColor","color","caretColor","useTextColor","props","name","textColorClasses","textColorStyles","useBackgroundColor","backgroundColorClasses","backgroundColorStyles"],"mappings":"AAAA;AACA,SAASA,QAAT,EAAmBC,KAAnB,QAAgC,KAAhC;SACSC,U,6BAET;;AAeA;AACA,OAAO,SAASC,QAAT,CAAmBC,MAAnB,EAAgF;AACrF,QAAMC,oBAAoB,GAAGL,QAAQ,CAAC,MAAME,UAAU,CAACE,MAAM,CAACE,KAAP,CAAaC,UAAd,CAAjB,CAArC;AACA,QAAMC,cAAc,GAAGR,QAAQ,CAAC,MAAME,UAAU,CAACE,MAAM,CAACE,KAAP,CAAaG,IAAd,CAAjB,CAA/B;AAEA,QAAMC,YAAY,GAAGV,QAAQ,CAAC,MAAM;AAClC,UAAMW,OAAiB,GAAG,EAA1B;;AAEA,QAAIP,MAAM,CAACE,KAAP,CAAaC,UAAb,IAA2B,CAACF,oBAAoB,CAACC,KAArD,EAA4D;AAC1DK,MAAAA,OAAO,CAACC,IAAR,CAAc,MAAKR,MAAM,CAACE,KAAP,CAAaC,UAAW,EAA3C;AACD;;AAED,QAAIH,MAAM,CAACE,KAAP,CAAaG,IAAb,IAAqB,CAACD,cAAc,CAACF,KAAzC,EAAgD;AAC9CK,MAAAA,OAAO,CAACC,IAAR,CAAc,QAAOR,MAAM,CAACE,KAAP,CAAaG,IAAK,EAAvC;AACD;;AAED,WAAOE,OAAP;AACD,GAZ4B,CAA7B;AAcA,QAAME,WAAW,GAAGb,QAAQ,CAAC,MAAM;AACjC,UAAMc,MAAqB,GAAG,EAA9B;;AAEA,QAAIV,MAAM,CAACE,KAAP,CAAaC,UAAb,IAA2BF,oBAAoB,CAACC,KAApD,EAA2D;AACzDQ,MAAAA,MAAM,CAACC,eAAP,GAAyBX,MAAM,CAACE,KAAP,CAAaC,UAAtC;AACD;;AAED,QAAIH,MAAM,CAACE,KAAP,CAAaG,IAAb,IAAqBD,cAAc,CAACF,KAAxC,EAA+C;AAC7CQ,MAAAA,MAAM,CAACE,KAAP,GAAeZ,MAAM,CAACE,KAAP,CAAaG,IAA5B;AACAK,MAAAA,MAAM,CAACG,UAAP,GAAoBb,MAAM,CAACE,KAAP,CAAaG,IAAjC;AACD;;AAED,WAAOK,MAAP;AACD,GAb2B,CAA5B;AAeA,SAAO;AAAEJ,IAAAA,YAAF;AAAgBG,IAAAA;AAAhB,GAAP;AACD;AAID,OAAO,SAASK,YAAT,CACLC,KADK,EAELC,IAFK,EAGU;AACf,QAAMhB,MAAM,GAAGJ,QAAQ,CAAC,OAAO;AAC7BS,IAAAA,IAAI,EAAER,KAAK,CAACkB,KAAD,CAAL,GAAeA,KAAK,CAACb,KAArB,GAA8Bc,IAAI,GAAGD,KAAK,CAACC,IAAD,CAAR,GAAiB;AAD5B,GAAP,CAAD,CAAvB;AAIA,QAAM;AACJV,IAAAA,YAAY,EAAEW,gBADV;AAEJR,IAAAA,WAAW,EAAES;AAFT,MAGFnB,QAAQ,CAACC,MAAD,CAHZ;AAKA,SAAO;AAAEiB,IAAAA,gBAAF;AAAoBC,IAAAA;AAApB,GAAP;AACD;AAID,OAAO,SAASC,kBAAT,CACLJ,KADK,EAELC,IAFK,EAGgB;AACrB,QAAMhB,MAAM,GAAGJ,QAAQ,CAAC,OAAO;AAC7BO,IAAAA,UAAU,EAAEN,KAAK,CAACkB,KAAD,CAAL,GAAeA,KAAK,CAACb,KAArB,GAA8Bc,IAAI,GAAGD,KAAK,CAACC,IAAD,CAAR,GAAiB;AADlC,GAAP,CAAD,CAAvB;AAIA,QAAM;AACJV,IAAAA,YAAY,EAAEc,sBADV;AAEJX,IAAAA,WAAW,EAAEY;AAFT,MAGFtB,QAAQ,CAACC,MAAD,CAHZ;AAKA,SAAO;AAAEoB,IAAAA,sBAAF;AAA0BC,IAAAA;AAA1B,GAAP;AACD","sourcesContent":["// Utilities\nimport { computed, isRef } from 'vue'\nimport { isCssColor } from '@/util'\n\n// Types\nimport type { CSSProperties, Ref } from 'vue'\n\ntype ColorValue = string | false | null | undefined\n\nexport interface TextColorData {\n  textColorClasses: Ref<string[]>\n  textColorStyles: Ref<CSSProperties>\n}\n\nexport interface BackgroundColorData {\n  backgroundColorClasses: Ref<string[]>\n  backgroundColorStyles: Ref<CSSProperties>\n}\n\n// Composables\nexport function useColor (colors: Ref<{ background?: ColorValue, text?: ColorValue }>) {\n  const backgroundIsCssColor = computed(() => isCssColor(colors.value.background))\n  const textIsCssColor = computed(() => isCssColor(colors.value.text))\n\n  const colorClasses = computed(() => {\n    const classes: string[] = []\n\n    if (colors.value.background && !backgroundIsCssColor.value) {\n      classes.push(`bg-${colors.value.background}`)\n    }\n\n    if (colors.value.text && !textIsCssColor.value) {\n      classes.push(`text-${colors.value.text}`)\n    }\n\n    return classes\n  })\n\n  const colorStyles = computed(() => {\n    const styles: CSSProperties = {}\n\n    if (colors.value.background && backgroundIsCssColor.value) {\n      styles.backgroundColor = colors.value.background\n    }\n\n    if (colors.value.text && textIsCssColor.value) {\n      styles.color = colors.value.text\n      styles.caretColor = colors.value.text\n    }\n\n    return styles\n  })\n\n  return { colorClasses, colorStyles }\n}\n\nexport function useTextColor (color: Ref<ColorValue>): TextColorData\nexport function useTextColor <T extends Record<K, ColorValue>, K extends string> (props: T, name: K): TextColorData\nexport function useTextColor <T extends Record<K, ColorValue>, K extends string> (\n  props: T | Ref<ColorValue>,\n  name?: K\n): TextColorData {\n  const colors = computed(() => ({\n    text: isRef(props) ? props.value : (name ? props[name] : null),\n  }))\n\n  const {\n    colorClasses: textColorClasses,\n    colorStyles: textColorStyles,\n  } = useColor(colors)\n\n  return { textColorClasses, textColorStyles }\n}\n\nexport function useBackgroundColor (color: Ref<ColorValue>): BackgroundColorData\nexport function useBackgroundColor <T extends Record<K, ColorValue>, K extends string> (props: T, name: K): BackgroundColorData\nexport function useBackgroundColor <T extends Record<K, ColorValue>, K extends string> (\n  props: T | Ref<ColorValue>,\n  name?: K\n): BackgroundColorData {\n  const colors = computed(() => ({\n    background: isRef(props) ? props.value : (name ? props[name] : null),\n  }))\n\n  const {\n    colorClasses: backgroundColorClasses,\n    colorStyles: backgroundColorStyles,\n  } = useColor(colors)\n\n  return { backgroundColorClasses, backgroundColorStyles }\n}\n"],"file":"color.mjs"}