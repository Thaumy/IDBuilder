{"version":3,"sources":["../../src/composables/lazy.ts"],"names":["computed","ref","watch","propsFactory","makeLazyProps","eager","Boolean","useLazy","props","active","isBooted","hasContent","value","onAfterLeave"],"mappings":"AAAA;AACA,SAASA,QAAT,EAAmBC,GAAnB,EAAwBC,KAAxB,QAAqC,KAArC,C,CAEA;;SAESC,Y;AAET,OAAO,MAAMC,aAAa,GAAGD,YAAY,CAAC;AACxCE,EAAAA,KAAK,EAAEC;AADiC,CAAD,EAEtC,MAFsC,CAAlC;AAIP,OAAO,SAASC,OAAT,CAAkBC,KAAlB,EAA6CC,MAA7C,EAAmE;AACxE,QAAMC,QAAQ,GAAGT,GAAG,CAAC,KAAD,CAApB;AACA,QAAMU,UAAU,GAAGX,QAAQ,CAAC,MAAMU,QAAQ,CAACE,KAAT,IAAkBJ,KAAK,CAACH,KAAxB,IAAiCI,MAAM,CAACG,KAA/C,CAA3B;AAEAV,EAAAA,KAAK,CAACO,MAAD,EAAS,MAAMC,QAAQ,CAACE,KAAT,GAAiB,IAAhC,CAAL;;AAEA,WAASC,YAAT,GAAyB;AACvB,QAAI,CAACL,KAAK,CAACH,KAAX,EAAkBK,QAAQ,CAACE,KAAT,GAAiB,KAAjB;AACnB;;AAED,SAAO;AAAEF,IAAAA,QAAF;AAAYC,IAAAA,UAAZ;AAAwBE,IAAAA;AAAxB,GAAP;AACD","sourcesContent":["// Utilities\nimport { computed, ref, watch } from 'vue'\n\n// Types\nimport type { Ref } from 'vue'\nimport { propsFactory } from '@/util'\n\nexport const makeLazyProps = propsFactory({\n  eager: Boolean,\n}, 'lazy')\n\nexport function useLazy (props: { eager: boolean }, active: Ref<boolean>) {\n  const isBooted = ref(false)\n  const hasContent = computed(() => isBooted.value || props.eager || active.value)\n\n  watch(active, () => isBooted.value = true)\n\n  function onAfterLeave () {\n    if (!props.eager) isBooted.value = false\n  }\n\n  return { isBooted, hasContent, onAfterLeave }\n}\n"],"file":"lazy.mjs"}