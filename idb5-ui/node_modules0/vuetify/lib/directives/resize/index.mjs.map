{"version":3,"sources":["../../../src/directives/resize/index.ts"],"names":["mounted","el","binding","handler","value","options","passive","modifiers","active","window","addEventListener","_onResize","Object","instance","$","uid","quiet","unmounted","removeEventListener","Resize"],"mappings":"AAUA,SAASA,OAAT,CAAkBC,EAAlB,EAAmCC,OAAnC,EAAoE;AAAA;;AAClE,QAAMC,OAAO,GAAGD,OAAO,CAACE,KAAxB;AACA,QAAMC,OAAgC,GAAG;AACvCC,IAAAA,OAAO,EAAE,wBAACJ,OAAO,CAACK,SAAT,aAAC,mBAAmBC,MAApB;AAD8B,GAAzC;AAIAC,EAAAA,MAAM,CAACC,gBAAP,CAAwB,QAAxB,EAAkCP,OAAlC,EAA2CE,OAA3C;AAEAJ,EAAAA,EAAE,CAACU,SAAH,GAAeC,MAAM,CAACX,EAAE,CAACU,SAAJ,CAArB;AACAV,EAAAA,EAAE,CAACU,SAAH,CAAcT,OAAO,CAACW,QAAR,CAAkBC,CAAlB,CAAoBC,GAAlC,IAAyC;AACvCZ,IAAAA,OADuC;AAEvCE,IAAAA;AAFuC,GAAzC;;AAKA,MAAI,yBAACH,OAAO,CAACK,SAAT,aAAC,oBAAmBS,KAApB,CAAJ,EAA+B;AAC7Bb,IAAAA,OAAO;AACR;AACF;;AAED,SAASc,SAAT,CAAoBhB,EAApB,EAAqCC,OAArC,EAAsE;AAAA;;AACpE,MAAI,mBAACD,EAAE,CAACU,SAAJ,aAAC,cAAeT,OAAO,CAACW,QAAR,CAAkBC,CAAlB,CAAoBC,GAAnC,CAAD,CAAJ,EAA8C;AAE9C,QAAM;AAAEZ,IAAAA,OAAF;AAAWE,IAAAA;AAAX,MAAuBJ,EAAE,CAACU,SAAH,CAAaT,OAAO,CAACW,QAAR,CAAkBC,CAAlB,CAAoBC,GAAjC,CAA7B;AAEAN,EAAAA,MAAM,CAACS,mBAAP,CAA2B,QAA3B,EAAqCf,OAArC,EAA8CE,OAA9C;AAEA,SAAOJ,EAAE,CAACU,SAAH,CAAaT,OAAO,CAACW,QAAR,CAAkBC,CAAlB,CAAoBC,GAAjC,CAAP;AACD;;AAED,OAAO,MAAMI,MAAM,GAAG;AACpBnB,EAAAA,OADoB;AAEpBiB,EAAAA;AAFoB,CAAf;AAKP,eAAeE,MAAf","sourcesContent":["import type { DirectiveBinding } from 'vue'\n\ninterface ResizeDirectiveBinding extends Omit<DirectiveBinding, 'modifiers'> {\n  value: () => void\n  modifiers?: {\n    active?: boolean\n    quiet?: boolean\n  }\n}\n\nfunction mounted (el: HTMLElement, binding: ResizeDirectiveBinding) {\n  const handler = binding.value\n  const options: AddEventListenerOptions = {\n    passive: !binding.modifiers?.active,\n  }\n\n  window.addEventListener('resize', handler, options)\n\n  el._onResize = Object(el._onResize)\n  el._onResize![binding.instance!.$.uid] = {\n    handler,\n    options,\n  }\n\n  if (!binding.modifiers?.quiet) {\n    handler()\n  }\n}\n\nfunction unmounted (el: HTMLElement, binding: ResizeDirectiveBinding) {\n  if (!el._onResize?.[binding.instance!.$.uid]) return\n\n  const { handler, options } = el._onResize[binding.instance!.$.uid]!\n\n  window.removeEventListener('resize', handler, options)\n\n  delete el._onResize[binding.instance!.$.uid]\n}\n\nexport const Resize = {\n  mounted,\n  unmounted,\n}\n\nexport default Resize\n"],"file":"index.mjs"}