{"version":3,"sources":["../../../src/components/VOtpInput/VOtpInput.ts"],"names":["VInput","VTextField","ripple","convertToUnit","keyCodes","breaking","mixins","baseMixins","extend","name","directives","inheritAttrs","props","length","type","Number","String","default","plain","Boolean","data","badInput","initialValue","isBooted","otp","computed","outlined","classes","options","call","isDirty","watch","isFocused","value","val","lazyValue","created","$attrs","hasOwnProperty","internalValue","split","mounted","requestAnimationFrame","methods","focus","e","otpIdx","onFocus","genInputSlot","$createElement","setBackgroundColor","backgroundColor","staticClass","style","height","on","click","onClick","mousedown","onMouseDown","mouseup","onMouseUp","genDefaultSlot","genControl","genFieldset","genTextFieldSlot","genContent","Array","from","_","i","setTextColor","validationState","class","attrs","genLegend","span","domProps","innerHTML","width","genInput","listeners","Object","assign","listeners$","change","min","attrs$","disabled","isDisabled","readonly","isReadonly","id","computedId","maxlength","blur","onBlur","input","onInput","paste","onPaste","keydown","onKeyDown","keyup","onKeyUp","ref","refInFor","$nextTick","$emit","$refs","undefined","preventDefault","stopPropagation","elements","document","activeElement","select","target","applyValue","join","validity","nextIndex","changeFocus","clearFocus","onCompleted","index","keyCode","enter","hasMouseDown","event","maxCursor","inputVal","clipboardData","getData","inputDataArray","newOtp","appIdx","toString","targetFocus","Math","next","updateValue","hasColor","eventKey","key","includes","rsp","render","h","themeClasses"],"mappings":"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","sourcesContent":["// @ts-nocheck\n/* eslint-disable */\n\n// Styles\nimport '../VTextField/VTextField.sass'\nimport './VOtpInput.sass'\n\n// Extensions\nimport VInput from '../VInput'\nimport VTextField from '../VTextField/VTextField'\n// Directives\nimport ripple from '../../directives/ripple'\n\n// Utilities\nimport { convertToUnit, keyCodes } from '../../util/helpers'\nimport { breaking } from '../../util/console'\n\n// Types\nimport mixins from '../../util/mixins'\nimport { VNode } from 'vue'\n\nconst baseMixins = mixins(\n  VInput,\n)\n\ninterface options extends InstanceType<typeof baseMixins> {\n  $refs: {\n    input: HTMLInputElement[]\n  }\n}\n\n/* @vue/component */\nexport default baseMixins.extend<options>().extend({\n  name: 'v-otp-input',\n\n  directives: {\n    ripple,\n  },\n\n  inheritAttrs: false,\n\n  props: {\n    length: {\n      type: [Number, String],\n      default: 6,\n    },\n    type: {\n      type: String,\n      default: 'text',\n    },\n    plain: Boolean,\n  },\n\n  data: () => ({\n    badInput: false,\n    initialValue: null,\n    isBooted: false,\n    otp: [] as string[],\n  }),\n\n  computed: {\n    outlined (): Boolean {\n      return !this.plain\n    },\n    classes (): object {\n      return {\n        ...VInput.options.computed.classes.call(this),\n        ...VTextField.options.computed.classes.call(this),\n        'v-otp-input--plain': this.plain,\n      }\n    },\n    isDirty (): boolean {\n      return VInput.options.computed.isDirty.call(this) || this.badInput\n    },\n  },\n\n  watch: {\n    isFocused: 'updateValue',\n    value (val) {\n      this.lazyValue = val\n    },\n  },\n\n  created () {\n    /* istanbul ignore next */\n    if (this.$attrs.hasOwnProperty('browser-autocomplete')) {\n      breaking('browser-autocomplete', 'autocomplete', this)\n    }\n\n    this.otp = this.internalValue?.split('') || []\n  },\n\n  mounted () {\n    requestAnimationFrame(() => (this.isBooted = true))\n  },\n\n  methods: {\n    /** @public */\n    focus (e: Event, otpIdx: number) {\n      this.onFocus(e, otpIdx || 0)\n    },\n    genInputSlot (otpIdx: number) {\n      return this.$createElement('div', this.setBackgroundColor(this.backgroundColor, {\n        staticClass: 'v-input__slot',\n        style: { height: convertToUnit(this.height) },\n        on: {\n          click: () => this.onClick(otpIdx),\n          mousedown: (e: Event) => this.onMouseDown(e, otpIdx),\n          mouseup: (e: Event) => this.onMouseUp(e, otpIdx),\n        },\n      }), [this.genDefaultSlot(otpIdx)])\n    },\n    genControl (otpIdx: number) {\n      return this.$createElement('div', {\n        staticClass: 'v-input__control',\n      }, [\n        this.genInputSlot(otpIdx),\n      ])\n    },\n    genDefaultSlot (otpIdx: number) {\n      return [\n        this.genFieldset(),\n        this.genTextFieldSlot(otpIdx),\n      ]\n    },\n    genContent () {\n      return Array.from({ length: +this.length }, (_, i) => {\n        return this.$createElement('div', this.setTextColor(this.validationState, {\n          staticClass: 'v-input',\n          class: this.classes,\n        }), [this.genControl(i)])\n      })\n    },\n    genFieldset () {\n      return this.$createElement('fieldset', {\n        attrs: {\n          'aria-hidden': true,\n        },\n      }, [this.genLegend()])\n    },\n    genLegend () {\n      const span = this.$createElement('span', {\n        domProps: { innerHTML: '&#8203;' },\n      })\n\n      return this.$createElement('legend', {\n        style: {\n          width: '0px',\n        },\n      }, [span])\n    },\n    genInput (otpIdx: number) {\n      const listeners = Object.assign({}, this.listeners$)\n      delete listeners.change // Change should not be bound externally\n\n      return this.$createElement('input', {\n        style: {},\n        domProps: {\n          value: this.otp[otpIdx],\n          min: this.type === 'number' ? 0 : null,\n        },\n        attrs: {\n          ...this.attrs$,\n          disabled: this.isDisabled,\n          readonly: this.isReadonly,\n          type: this.type,\n          id: `${this.computedId}--${otpIdx}`,\n          class: `otp-field-box--${otpIdx}`,\n          maxlength: 1,\n        },\n        on: Object.assign(listeners, {\n          blur: this.onBlur,\n          input: (e: Event) => this.onInput(e, otpIdx),\n          focus: (e: Event) => this.onFocus(e, otpIdx),\n          paste: (e: ClipboardEvent) => this.onPaste(e, otpIdx),\n          keydown: this.onKeyDown,\n          keyup: (e: KeyboardEvent) => this.onKeyUp(e, otpIdx),\n        }),\n        ref: 'input',\n        refInFor: true,\n      })\n    },\n    genTextFieldSlot (otpIdx: number): VNode {\n      return this.$createElement('div', {\n        staticClass: 'v-text-field__slot',\n      }, [\n        this.genInput(otpIdx),\n      ])\n    },\n    onBlur (e?: Event) {\n      this.isFocused = false\n      e && this.$nextTick(() => this.$emit('blur', e))\n    },\n    onClick (otpIdx: number) {\n      if (this.isFocused || this.isDisabled || !this.$refs.input[otpIdx]) return\n\n      this.onFocus(undefined, otpIdx)\n    },\n    onFocus (e?: Event, otpIdx?: number) {\n      e?.preventDefault()\n      e?.stopPropagation()\n      const elements = this.$refs.input as HTMLInputElement[]\n      const ref = this.$refs.input && elements[otpIdx || 0]\n      if (!ref) return\n\n      if (document.activeElement !== ref) {\n        ref.focus()\n        return ref.select()\n      }\n\n      if (!this.isFocused) {\n        this.isFocused = true\n        ref.select()\n        e && this.$emit('focus', e)\n      }\n    },\n    onInput (e: Event, otpIdx: number) {\n      const target = e.target as HTMLInputElement\n      const value = target.value\n      this.applyValue(otpIdx, target.value, () => {\n        this.internalValue = this.otp.join('')\n      })\n      this.badInput = target.validity && target.validity.badInput\n\n      const nextIndex = otpIdx + 1\n      if (value) {\n        if (nextIndex < +this.length) {\n          this.changeFocus(nextIndex)\n        } else {\n          this.clearFocus(otpIdx)\n          this.onCompleted()\n        }\n      }\n    },\n    clearFocus (index: number) {\n      const input = this.$refs.input[index] as HTMLInputElement\n      input.blur()\n    },\n    onKeyDown (e: KeyboardEvent) {\n      if (e.keyCode === keyCodes.enter) {\n        this.$emit('change', this.internalValue)\n      }\n\n      this.$emit('keydown', e)\n    },\n    onMouseDown (e: Event, otpIdx: number) {\n      // Prevent input from being blurred\n      if (e.target !== this.$refs.input[otpIdx]) {\n        e.preventDefault()\n        e.stopPropagation()\n      }\n\n      VInput.options.methods.onMouseDown.call(this, e)\n    },\n    onMouseUp (e: Event, otpIdx: number) {\n      if (this.hasMouseDown) this.focus(e, otpIdx)\n\n      VInput.options.methods.onMouseUp.call(this, e)\n    },\n    onPaste (event: ClipboardEvent, index: number) {\n      const maxCursor = +this.length - 1\n      const inputVal = event?.clipboardData?.getData('Text')\n      const inputDataArray = inputVal?.split('') || []\n      event.preventDefault()\n      const newOtp: string[] = [...this.otp]\n      for (let i = 0; i < inputDataArray.length; i++) {\n        const appIdx = index + i\n        if (appIdx > maxCursor) break\n        newOtp[appIdx] = inputDataArray[i].toString()\n      }\n      this.otp = newOtp\n      const targetFocus = Math.min(index + inputDataArray.length, maxCursor)\n      this.changeFocus(targetFocus)\n\n      if (newOtp.length === +this.length) { this.onCompleted(); this.clearFocus(targetFocus) }\n    },\n    applyValue (index: number, inputVal: string, next: Function) {\n      const newOtp: string[] = [...this.otp]\n      newOtp[index] = inputVal\n      this.otp = newOtp\n      next()\n    },\n    changeFocus (index: number) {\n      this.onFocus(undefined, index || 0)\n    },\n    updateValue (val: boolean) {\n      // Sets validationState from validatable\n      this.hasColor = val\n\n      if (val) {\n        this.initialValue = this.lazyValue\n      } else if (this.initialValue !== this.lazyValue) {\n        this.$emit('change', this.lazyValue)\n      }\n    },\n    onKeyUp (event: KeyboardEvent, index: number) {\n      event.preventDefault()\n      const eventKey = event.key\n      if (['Tab', 'Shift', 'Meta', 'Control', 'Alt'].includes(eventKey)) {\n        return\n      }\n      if (['Delete'].includes(eventKey)) {\n        return\n      }\n      if (eventKey === 'ArrowLeft' || (eventKey === 'Backspace' && !this.otp[index])) {\n        return index > 0 && this.changeFocus(index - 1)\n      }\n      if (eventKey === 'ArrowRight') {\n        return index + 1 < +this.length && this.changeFocus(index + 1)\n      }\n    },\n    onCompleted () {\n      const rsp = this.otp.join('')\n      if (rsp.length === +this.length) {\n        this.$emit('finish', rsp)\n      }\n    },\n  },\n  render (h): VNode {\n    return h('div', {\n      staticClass: 'v-otp-input',\n      class: this.themeClasses,\n    }, this.genContent())\n  },\n})\n"],"file":"VOtpInput.mjs"}