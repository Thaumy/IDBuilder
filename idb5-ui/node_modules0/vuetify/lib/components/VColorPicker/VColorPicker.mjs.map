{"version":3,"sources":["../../../src/components/VColorPicker/VColorPicker.ts"],"names":["VSheet","VColorPickerPreview","VColorPickerCanvas","VColorPickerEdit","modes","VColorPickerSwatches","parseColor","fromRGBA","extractColor","hasAlpha","mixins","deepEqual","Elevatable","Themeable","extend","name","props","canvasHeight","type","String","Number","default","disabled","Boolean","dotSize","flat","hideCanvas","hideSliders","hideInputs","hideModeSwitch","mode","validator","v","Object","keys","includes","showSwatches","swatches","Array","swatchesMaxHeight","value","width","data","internalValue","r","g","b","a","computed","hideAlpha","watch","handler","color","updateColor","immediate","methods","$emit","genCanvas","$createElement","height","on","genControls","staticClass","genPreview","genEdit","genSwatches","dark","light","maxHeight","render","h","class","themeClasses","elevationClasses","maxWidth"],"mappings":"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","sourcesContent":["// @ts-nocheck\n/* eslint-disable */\n\n// Styles\nimport './VColorPicker.sass'\n\n// Components\nimport VSheet from '../VSheet/VSheet'\nimport VColorPickerPreview from './VColorPickerPreview'\nimport VColorPickerCanvas from './VColorPickerCanvas'\nimport VColorPickerEdit, { Mode, modes } from './VColorPickerEdit'\nimport VColorPickerSwatches from './VColorPickerSwatches'\n\n// Helpers\nimport { VColorPickerColor, parseColor, fromRGBA, extractColor, hasAlpha } from './util'\nimport mixins from '../../util/mixins'\nimport { deepEqual } from '../../util/helpers'\n\n// Mixins\nimport Elevatable from '../../mixins/elevatable'\nimport Themeable from '../../mixins/themeable'\n\n// Types\nimport { VNode, PropType } from 'vue'\n\nexport default mixins(Elevatable, Themeable).extend({\n  name: 'v-color-picker',\n\n  props: {\n    canvasHeight: {\n      type: [String, Number],\n      default: 150,\n    },\n    disabled: Boolean,\n    dotSize: {\n      type: [Number, String],\n      default: 10,\n    },\n    flat: Boolean,\n    hideCanvas: Boolean,\n    hideSliders: Boolean,\n    hideInputs: Boolean,\n    hideModeSwitch: Boolean,\n    mode: {\n      type: String,\n      default: 'rgba',\n      validator: (v: string) => Object.keys(modes).includes(v),\n    },\n    showSwatches: Boolean,\n    swatches: Array as PropType<string[][]>,\n    swatchesMaxHeight: {\n      type: [Number, String],\n      default: 150,\n    },\n    value: {\n      type: [Object, String],\n    },\n    width: {\n      type: [Number, String],\n      default: 300,\n    },\n  },\n\n  data: () => ({\n    internalValue: fromRGBA({ r: 255, g: 0, b: 0, a: 1 }),\n  }),\n\n  computed: {\n    hideAlpha (): boolean {\n      if (!this.value) return false\n\n      return !hasAlpha(this.value)\n    },\n  },\n\n  watch: {\n    value: {\n      handler (color: any) {\n        this.updateColor(parseColor(color, this.internalValue))\n      },\n      immediate: true,\n    },\n  },\n\n  methods: {\n    updateColor (color: VColorPickerColor) {\n      this.internalValue = color\n      const value = extractColor(this.internalValue, this.value)\n\n      if (!deepEqual(value, this.value)) {\n        this.$emit('input', value)\n        this.$emit('update:color', this.internalValue)\n      }\n    },\n    genCanvas (): VNode {\n      return this.$createElement(VColorPickerCanvas, {\n        props: {\n          color: this.internalValue,\n          disabled: this.disabled,\n          dotSize: this.dotSize,\n          width: this.width,\n          height: this.canvasHeight,\n        },\n        on: {\n          'update:color': this.updateColor,\n        },\n      })\n    },\n    genControls (): VNode {\n      return this.$createElement('div', {\n        staticClass: 'v-color-picker__controls',\n      }, [\n        !this.hideSliders && this.genPreview(),\n        !this.hideInputs && this.genEdit(),\n      ])\n    },\n    genEdit (): VNode {\n      return this.$createElement(VColorPickerEdit, {\n        props: {\n          color: this.internalValue,\n          disabled: this.disabled,\n          hideAlpha: this.hideAlpha,\n          hideModeSwitch: this.hideModeSwitch,\n          mode: this.mode,\n        },\n        on: {\n          'update:color': this.updateColor,\n          'update:mode': (v: Mode) => this.$emit('update:mode', v),\n        },\n      })\n    },\n    genPreview (): VNode {\n      return this.$createElement(VColorPickerPreview, {\n        props: {\n          color: this.internalValue,\n          disabled: this.disabled,\n          hideAlpha: this.hideAlpha,\n        },\n        on: {\n          'update:color': this.updateColor,\n        },\n      })\n    },\n    genSwatches (): VNode {\n      return this.$createElement(VColorPickerSwatches, {\n        props: {\n          dark: this.dark,\n          light: this.light,\n          disabled: this.disabled,\n          swatches: this.swatches,\n          color: this.internalValue,\n          maxHeight: this.swatchesMaxHeight,\n        },\n        on: {\n          'update:color': this.updateColor,\n        },\n      })\n    },\n  },\n\n  render (h): VNode {\n    return h(VSheet, {\n      staticClass: 'v-color-picker',\n      class: {\n        'v-color-picker--flat': this.flat,\n        ...this.themeClasses,\n        ...this.elevationClasses,\n      },\n      props: {\n        maxWidth: this.width,\n      },\n    }, [\n      !this.hideCanvas && this.genCanvas(),\n      (!this.hideSliders || !this.hideInputs) && this.genControls(),\n      this.showSwatches && this.genSwatches(),\n    ])\n  },\n})\n"],"file":"VColorPicker.mjs"}