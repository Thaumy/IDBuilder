{"version":3,"sources":["../../../../src/components/VCalendar/mixins/calendar-with-events.ts"],"names":["ripple","CalendarBase","escapeHTML","props","CalendarEventOverlapModes","getDayIdentifier","diffMinutes","parseEvent","isEventStart","isEventOn","isEventOverlapping","isEventHiddenOn","WIDTH_FULL","WIDTH_START","MINUTES_IN_DAY","extend","name","directives","events","calendar","category","computed","noEvents","length","parsedEvents","map","parsedEventOverlapThreshold","parseInt","eventOverlapThreshold","eventTimedFunction","eventTimed","event","eventCategoryFunction","eventCategory","eventTextColorFunction","eventTextColor","eventNameFunction","eventName","timedEvent","input","eventModeFunction","eventOverlapMode","eventWeekdays","parsedWeekdays","categoryMode","type","methods","eventColorFunction","e","eventColor","color","index","eventStart","eventEnd","formatTime","withTime","ampm","formatter","getFormatter","timeZone","hour","minute","undefined","updateEventVisibility","eventMore","eventHeight","eventsMap","getEventsMap","date","parent","more","parentBounds","getBoundingClientRect","last","eventsSorted","bottom","sort","a","b","hidden","i","hide","style","display","innerHTML","$vuetify","lang","t","eventMoreText","elements","$refs","forEach","el","getAttribute","parentElement","push","genDayEvent","day","eventMarginBottom","dayIdentifier","week","start","startIdentifier","end","endIdentifier","width","weekdayIdentifier","scope","eventParsed","timed","genEvent","staticClass","class","height","attrs","key","ref","refInFor","genTimedEvent","left","timeDelta","top","timeToY","Math","max","scopeInput","data","slot","$scopedSlots","text","background","overlapsNoon","singline","timeSummary","eventSummary","hasTime","eventSummaryClass","time","delimiter","outside","$createElement","setTextColor","setBackgroundColor","on","getDefaultMouseEventHandlers","nativeEvent","value","eventRipple","genName","domProps","genPlaceholder","genMore","click","$emit","getVisibleEvents","days","filter","isEventForCategory","categoryName","getEventsForDay","identifier","firstWeekday","getEventsForDayAll","allDay","getEventsForDayTimed","getScopedSlots","mode","isNode","getSlotChildren","getter","mapper","visuals","visual","children","column","mapped","slots","slotDay","slotDayHeader","slotDayBody","concat"],"mappings":"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","sourcesContent":["// @ts-nocheck\n/* eslint-disable */\n\n// Styles\nimport './calendar-with-events.sass'\n\n// Types\nimport { VNode, VNodeData } from 'vue'\n\n// Directives\nimport ripple from '../../../directives/ripple'\n\n// Mixins\nimport CalendarBase from './calendar-base'\n\n// Helpers\nimport { escapeHTML } from '../../../util/helpers'\n\n// Util\nimport props from '../util/props'\nimport {\n  CalendarEventOverlapModes,\n} from '../modes'\nimport {\n  getDayIdentifier, diffMinutes,\n} from '../util/timestamp'\nimport {\n  parseEvent,\n  isEventStart,\n  isEventOn,\n  isEventOverlapping,\n  isEventHiddenOn,\n} from '../util/events'\nimport {\n  CalendarTimestamp,\n  CalendarEventParsed,\n  CalendarEventVisual,\n  CalendarEventColorFunction,\n  CalendarEventNameFunction,\n  CalendarEventTimedFunction,\n  CalendarDaySlotScope,\n  CalendarDayBodySlotScope,\n  CalendarEventOverlapMode,\n  CalendarEvent,\n  CalendarEventCategoryFunction,\n  CalendarCategory,\n} from 'vuetify/types'\n\n// Types\ntype VEventGetter<D> = (day: D) => CalendarEventParsed[]\n\ntype VEventVisualToNode<D> = (visual: CalendarEventVisual, day: D) => VNode | false\n\ntype VEventsToNodes = <D extends CalendarDaySlotScope>(\n  day: D,\n  getter: VEventGetter<D>,\n  mapper: VEventVisualToNode<D>,\n  timed: boolean) => VNode[] | undefined\n\ntype VDailyEventsMap = {\n  [date: string]: {\n    parent: HTMLElement\n    more: HTMLElement | null\n    events: HTMLElement[]\n  }\n}\n\ninterface VEventScopeInput {\n  eventParsed: CalendarEventParsed\n  day: CalendarDaySlotScope\n  start: boolean\n  end: boolean\n  timed: boolean\n}\n\nconst WIDTH_FULL = 100\nconst WIDTH_START = 95\nconst MINUTES_IN_DAY = 1440\n\n/* @vue/component */\nexport default CalendarBase.extend({\n  name: 'calendar-with-events',\n\n  directives: {\n    ripple,\n  },\n\n  props: {\n    ...props.events,\n    ...props.calendar,\n    ...props.category,\n  },\n\n  computed: {\n    noEvents (): boolean {\n      return this.events.length === 0\n    },\n    parsedEvents (): CalendarEventParsed[] {\n      return this.events.map(this.parseEvent)\n    },\n    parsedEventOverlapThreshold (): number {\n      return parseInt(this.eventOverlapThreshold)\n    },\n    eventTimedFunction (): CalendarEventTimedFunction {\n      return typeof this.eventTimed === 'function'\n        ? this.eventTimed\n        : event => !!event[this.eventTimed as string]\n    },\n    eventCategoryFunction (): CalendarEventCategoryFunction {\n      return typeof this.eventCategory === 'function'\n        ? this.eventCategory\n        : event => event[this.eventCategory as string]\n    },\n    eventTextColorFunction (): CalendarEventColorFunction {\n      return typeof this.eventTextColor === 'function'\n        ? this.eventTextColor\n        : () => this.eventTextColor as string\n    },\n    eventNameFunction (): CalendarEventNameFunction {\n      return typeof this.eventName === 'function'\n        ? this.eventName\n        : (event, timedEvent) => escapeHTML(event.input[this.eventName as string] as string || '')\n    },\n    eventModeFunction (): CalendarEventOverlapMode {\n      return typeof this.eventOverlapMode === 'function'\n        ? this.eventOverlapMode\n        : CalendarEventOverlapModes[this.eventOverlapMode]\n    },\n    eventWeekdays (): number[] {\n      return this.parsedWeekdays\n    },\n    categoryMode (): boolean {\n      return this.type === 'category'\n    },\n  },\n\n  methods: {\n    eventColorFunction (e: CalendarEvent): string {\n      return typeof this.eventColor === 'function'\n        ? this.eventColor(e)\n        : e.color || this.eventColor\n    },\n    parseEvent (input: CalendarEvent, index = 0): CalendarEventParsed {\n      return parseEvent(\n        input,\n        index,\n        this.eventStart,\n        this.eventEnd,\n        this.eventTimedFunction(input),\n        this.categoryMode ? this.eventCategoryFunction(input) : false,\n      )\n    },\n    formatTime (withTime: CalendarTimestamp, ampm: boolean): string {\n      const formatter = this.getFormatter({\n        timeZone: 'UTC',\n        hour: 'numeric',\n        minute: withTime.minute > 0 ? 'numeric' : undefined,\n      })\n\n      return formatter(withTime, true)\n    },\n    updateEventVisibility () {\n      if (this.noEvents || !this.eventMore) {\n        return\n      }\n\n      const eventHeight = this.eventHeight\n      const eventsMap = this.getEventsMap()\n\n      for (const date in eventsMap) {\n        const { parent, events, more } = eventsMap[date]\n        if (!more) {\n          break\n        }\n\n        const parentBounds = parent.getBoundingClientRect()\n        const last = events.length - 1\n        const eventsSorted = events.map(event => ({\n          event,\n          bottom: event.getBoundingClientRect().bottom,\n        })).sort((a, b) => a.bottom - b.bottom)\n        let hidden = 0\n\n        for (let i = 0; i <= last; i++) {\n          const bottom = eventsSorted[i].bottom\n          const hide = i === last\n            ? (bottom > parentBounds.bottom)\n            : (bottom + eventHeight > parentBounds.bottom)\n\n          if (hide) {\n            eventsSorted[i].event.style.display = 'none'\n            hidden++\n          }\n        }\n\n        if (hidden) {\n          more.style.display = ''\n          more.innerHTML = this.$vuetify.lang.t(this.eventMoreText, hidden)\n        } else {\n          more.style.display = 'none'\n        }\n      }\n    },\n    getEventsMap (): VDailyEventsMap {\n      const eventsMap: VDailyEventsMap = {}\n      const elements = this.$refs.events as HTMLElement[]\n\n      if (!elements || !elements.forEach) {\n        return eventsMap\n      }\n\n      elements.forEach(el => {\n        const date = el.getAttribute('data-date')\n        if (el.parentElement && date) {\n          if (!(date in eventsMap)) {\n            eventsMap[date] = {\n              parent: el.parentElement,\n              more: null,\n              events: [],\n            }\n          }\n          if (el.getAttribute('data-more')) {\n            eventsMap[date].more = el\n          } else {\n            eventsMap[date].events.push(el)\n            el.style.display = ''\n          }\n        }\n      })\n\n      return eventsMap\n    },\n    genDayEvent ({ event }: CalendarEventVisual, day: CalendarDaySlotScope): VNode {\n      const eventHeight = this.eventHeight\n      const eventMarginBottom = this.eventMarginBottom\n      const dayIdentifier = getDayIdentifier(day)\n      const week = day.week\n      const start = dayIdentifier === event.startIdentifier\n      let end = dayIdentifier === event.endIdentifier\n      let width = WIDTH_START\n\n      if (!this.categoryMode) {\n        for (let i = day.index + 1; i < week.length; i++) {\n          const weekdayIdentifier = getDayIdentifier(week[i])\n          if (event.endIdentifier >= weekdayIdentifier) {\n            width += WIDTH_FULL\n            end = end || weekdayIdentifier === event.endIdentifier\n          } else {\n            end = true\n            break\n          }\n        }\n      }\n      const scope = { eventParsed: event, day, start, end, timed: false }\n\n      return this.genEvent(event, scope, false, {\n        staticClass: 'v-event',\n        class: {\n          'v-event-start': start,\n          'v-event-end': end,\n        },\n        style: {\n          height: `${eventHeight}px`,\n          width: `${width}%`,\n          'margin-bottom': `${eventMarginBottom}px`,\n        },\n        attrs: {\n          'data-date': day.date,\n        },\n        key: event.index,\n        ref: 'events',\n        refInFor: true,\n      })\n    },\n    genTimedEvent ({ event, left, width }: CalendarEventVisual, day: CalendarDayBodySlotScope): VNode | false {\n      if (day.timeDelta(event.end) < 0 || day.timeDelta(event.start) >= 1 || isEventHiddenOn(event, day)) {\n        return false\n      }\n\n      const dayIdentifier = getDayIdentifier(day)\n      const start = event.startIdentifier >= dayIdentifier\n      const end = event.endIdentifier > dayIdentifier\n      const top = start ? day.timeToY(event.start) : 0\n      const bottom = end ? day.timeToY(MINUTES_IN_DAY) : day.timeToY(event.end)\n      const height = Math.max(this.eventHeight, bottom - top)\n      const scope = { eventParsed: event, day, start, end, timed: true }\n\n      return this.genEvent(event, scope, true, {\n        staticClass: 'v-event-timed',\n        style: {\n          top: `${top}px`,\n          height: `${height}px`,\n          left: `${left}%`,\n          width: `${width}%`,\n        },\n      })\n    },\n    genEvent (event: CalendarEventParsed, scopeInput: VEventScopeInput, timedEvent: boolean, data: VNodeData): VNode {\n      const slot = this.$scopedSlots.event\n      const text = this.eventTextColorFunction(event.input)\n      const background = this.eventColorFunction(event.input)\n      const overlapsNoon = event.start.hour < 12 && event.end.hour >= 12\n      const singline = diffMinutes(event.start, event.end) <= this.parsedEventOverlapThreshold\n      const formatTime = this.formatTime\n      const timeSummary = () => formatTime(event.start, overlapsNoon) + ' - ' + formatTime(event.end, true)\n      const eventSummary = () => {\n        const name = this.eventNameFunction(event, timedEvent)\n        if (event.start.hasTime) {\n          const eventSummaryClass = 'v-event-summary'\n          if (timedEvent) {\n            const time = timeSummary()\n            const delimiter = singline ? ', ' : '<br>'\n\n            return `<span class=\"${eventSummaryClass}\"><strong>${name}</strong>${delimiter}${time}</span>`\n          } else {\n            const time = formatTime(event.start, true)\n\n            return `<span class=\"${eventSummaryClass}\"><strong>${time}</strong> ${name}</span>`\n          }\n        }\n\n        return name\n      }\n\n      const scope = {\n        ...scopeInput,\n        event: event.input,\n        outside: scopeInput.day.outside,\n        singline,\n        overlapsNoon,\n        formatTime,\n        timeSummary,\n        eventSummary,\n      }\n\n      return this.$createElement('div',\n        this.setTextColor(text,\n          this.setBackgroundColor(background, {\n            on: this.getDefaultMouseEventHandlers(':event', nativeEvent => ({ ...scope, nativeEvent })),\n            directives: [{\n              name: 'ripple',\n              value: this.eventRipple ?? true,\n            }],\n            ...data,\n          })\n        ), slot\n          ? slot(scope)\n          : [this.genName(eventSummary)]\n      )\n    },\n    genName (eventSummary: () => string): VNode {\n      return this.$createElement('div', {\n        staticClass: 'pl-1',\n        domProps: {\n          innerHTML: eventSummary(),\n        },\n      })\n    },\n    genPlaceholder (day: CalendarTimestamp): VNode {\n      const height = this.eventHeight + this.eventMarginBottom\n\n      return this.$createElement('div', {\n        style: {\n          height: `${height}px`,\n        },\n        attrs: {\n          'data-date': day.date,\n        },\n        ref: 'events',\n        refInFor: true,\n      })\n    },\n    genMore (day: CalendarDaySlotScope): VNode {\n      const eventHeight = this.eventHeight\n      const eventMarginBottom = this.eventMarginBottom\n\n      return this.$createElement('div', {\n        staticClass: 'v-event-more pl-1',\n        class: {\n          'v-outside': day.outside,\n        },\n        attrs: {\n          'data-date': day.date,\n          'data-more': 1,\n        },\n        directives: [{\n          name: 'ripple',\n          value: this.eventRipple ?? true,\n        }],\n        on: {\n          click: (e: MouseEvent) => this.$emit('click:more', day, e),\n        },\n        style: {\n          display: 'none',\n          height: `${eventHeight}px`,\n          'margin-bottom': `${eventMarginBottom}px`,\n        },\n        ref: 'events',\n        refInFor: true,\n      })\n    },\n    getVisibleEvents (): CalendarEventParsed[] {\n      const start = getDayIdentifier(this.days[0])\n      const end = getDayIdentifier(this.days[this.days.length - 1])\n\n      return this.parsedEvents.filter(\n        event => isEventOverlapping(event, start, end)\n      )\n    },\n    isEventForCategory (event: CalendarEventParsed, category: CalendarCategory): boolean {\n      return !this.categoryMode ||\n        (typeof category === 'object' && category.categoryName &&\n        category.categoryName === event.category) ||\n        (typeof event.category === 'string' && category === event.category) ||\n        (typeof event.category !== 'string' && category === null)\n    },\n    getEventsForDay (day: CalendarDaySlotScope): CalendarEventParsed[] {\n      const identifier = getDayIdentifier(day)\n      const firstWeekday = this.eventWeekdays[0]\n\n      return this.parsedEvents.filter(\n        event => isEventStart(event, day, identifier, firstWeekday)\n      )\n    },\n    getEventsForDayAll (day: CalendarDaySlotScope): CalendarEventParsed[] {\n      const identifier = getDayIdentifier(day)\n      const firstWeekday = this.eventWeekdays[0]\n\n      return this.parsedEvents.filter(\n        event => event.allDay &&\n          (this.categoryMode ? isEventOn(event, identifier) : isEventStart(event, day, identifier, firstWeekday)) &&\n          this.isEventForCategory(event, day.category)\n      )\n    },\n    getEventsForDayTimed (day: CalendarDaySlotScope): CalendarEventParsed[] {\n      const identifier = getDayIdentifier(day)\n      return this.parsedEvents.filter(\n        event => !event.allDay &&\n          isEventOn(event, identifier) &&\n          this.isEventForCategory(event, day.category)\n      )\n    },\n    getScopedSlots () {\n      if (this.noEvents) {\n        return { ...this.$scopedSlots }\n      }\n\n      const mode = this.eventModeFunction(\n        this.parsedEvents,\n        this.eventWeekdays[0],\n        this.parsedEventOverlapThreshold\n      )\n\n      const isNode = (input: VNode | false): input is VNode => !!input\n      const getSlotChildren: VEventsToNodes = (day, getter, mapper, timed) => {\n        const events = getter(day)\n        const visuals = mode(day, events, timed, this.categoryMode)\n\n        if (timed) {\n          return visuals.map(visual => mapper(visual, day)).filter(isNode)\n        }\n\n        const children: VNode[] = []\n\n        visuals.forEach((visual, index) => {\n          while (children.length < visual.column) {\n            children.push(this.genPlaceholder(day))\n          }\n\n          const mapped = mapper(visual, day)\n          if (mapped) {\n            children.push(mapped)\n          }\n        })\n\n        return children\n      }\n\n      const slots = this.$scopedSlots\n      const slotDay = slots.day\n      const slotDayHeader = slots['day-header']\n      const slotDayBody = slots['day-body']\n\n      return {\n        ...slots,\n        day: (day: CalendarDaySlotScope) => {\n          let children = getSlotChildren(day, this.getEventsForDay, this.genDayEvent, false)\n          if (children && children.length > 0 && this.eventMore) {\n            children.push(this.genMore(day))\n          }\n          if (slotDay) {\n            const slot = slotDay(day)\n            if (slot) {\n              children = children ? children.concat(slot) : slot\n            }\n          }\n          return children\n        },\n        'day-header': (day: CalendarDaySlotScope) => {\n          let children = getSlotChildren(day, this.getEventsForDayAll, this.genDayEvent, false)\n\n          if (slotDayHeader) {\n            const slot = slotDayHeader(day)\n            if (slot) {\n              children = children ? children.concat(slot) : slot\n            }\n          }\n          return children\n        },\n        'day-body': (day: CalendarDayBodySlotScope) => {\n          const events = getSlotChildren(day, this.getEventsForDayTimed, this.genTimedEvent, true)\n          let children: VNode[] = [\n            this.$createElement('div', {\n              staticClass: 'v-event-timed-container',\n            }, events),\n          ]\n\n          if (slotDayBody) {\n            const slot = slotDayBody(day)\n            if (slot) {\n              children = children.concat(slot)\n            }\n          }\n          return children\n        },\n      }\n    },\n  },\n})\n"],"file":"calendar-with-events.mjs"}