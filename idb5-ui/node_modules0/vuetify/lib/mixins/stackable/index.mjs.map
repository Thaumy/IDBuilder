{"version":3,"sources":["../../../src/mixins/stackable/index.ts"],"names":["Vue","getZIndex","extend","name","data","stackElement","stackExclude","stackMinZIndex","isActive","computed","activeZIndex","window","content","$refs","index","getMaxZIndex","parseInt","methods","exclude","base","$el","zis","activeElements","document","getElementsByClassName","length","includes","push","Math","max"],"mappings":"AAAA;;AACA;AAEA,OAAOA,GAAP,MAAgB,KAAhB;SAESC,S;;AAQT;AACA,eAAeD,GAAG,CAACE,MAAJ,GAAsBA,MAAtB,CAA6B;AAC1CC,EAAAA,IAAI,EAAE,WADoC;;AAG1CC,EAAAA,IAAI,GAAI;AACN,WAAO;AACLC,MAAAA,YAAY,EAAE,IADT;AAELC,MAAAA,YAAY,EAAE,IAFT;AAGLC,MAAAA,cAAc,EAAE,CAHX;AAILC,MAAAA,QAAQ,EAAE;AAJL,KAAP;AAMD,GAVyC;;AAW1CC,EAAAA,QAAQ,EAAE;AACRC,IAAAA,YAAY,GAAY;AACtB,UAAI,OAAOC,MAAP,KAAkB,WAAtB,EAAmC,OAAO,CAAP;AAEnC,YAAMC,OAAO,GAAG,KAAKP,YAAL,IAAqB,KAAKQ,KAAL,CAAWD,OAAhD,CAHsB,CAItB;;AAEA,YAAME,KAAK,GAAG,CAAC,KAAKN,QAAN,GACVP,SAAS,CAACW,OAAD,CADC,GAEV,KAAKG,YAAL,CAAkB,KAAKT,YAAL,IAAqB,CAACM,OAAD,CAAvC,IAAoD,CAFxD;AAIA,UAAIE,KAAK,IAAI,IAAb,EAAmB,OAAOA,KAAP,CAVG,CAYtB;AACA;;AACA,aAAOE,QAAQ,CAACF,KAAD,CAAf;AACD;;AAhBO,GAXgC;AA6B1CG,EAAAA,OAAO,EAAE;AACPF,IAAAA,YAAY,GAA2B;AAAA,UAAzBG,OAAyB,uEAAJ,EAAI;AACrC,YAAMC,IAAI,GAAG,KAAKC,GAAlB,CADqC,CAErC;AACA;;AACA,YAAMC,GAAG,GAAG,CAAC,KAAKd,cAAN,EAAsBN,SAAS,CAACkB,IAAD,CAA/B,CAAZ,CAJqC,CAKrC;AACA;AACA;;AACA,YAAMG,cAAc,GAAG,CACrB,GAAGC,QAAQ,CAACC,sBAAT,CAAgC,yBAAhC,CADkB,EAErB,GAAGD,QAAQ,CAACC,sBAAT,CAAgC,2BAAhC,CAFkB,CAAvB,CARqC,CAarC;;AACA,WAAK,IAAIV,KAAK,GAAG,CAAjB,EAAoBA,KAAK,GAAGQ,cAAc,CAACG,MAA3C,EAAmDX,KAAK,EAAxD,EAA4D;AAC1D,YAAI,CAACI,OAAO,CAACQ,QAAR,CAAiBJ,cAAc,CAACR,KAAD,CAA/B,CAAL,EAA8C;AAC5CO,UAAAA,GAAG,CAACM,IAAJ,CAAS1B,SAAS,CAACqB,cAAc,CAACR,KAAD,CAAf,CAAlB;AACD;AACF;;AAED,aAAOc,IAAI,CAACC,GAAL,CAAS,GAAGR,GAAZ,CAAP;AACD;;AAtBM;AA7BiC,CAA7B,CAAf","sourcesContent":["// @ts-nocheck\n/* eslint-disable */\n\nimport Vue from 'vue'\n\nimport { getZIndex } from '../../util/helpers'\n\ninterface options extends Vue {\n  $refs: {\n    content: Element\n  }\n}\n\n/* @vue/component */\nexport default Vue.extend<options>().extend({\n  name: 'stackable',\n\n  data () {\n    return {\n      stackElement: null as Element | null,\n      stackExclude: null as Element[] | null,\n      stackMinZIndex: 0,\n      isActive: false,\n    }\n  },\n  computed: {\n    activeZIndex (): number {\n      if (typeof window === 'undefined') return 0\n\n      const content = this.stackElement || this.$refs.content\n      // Return current zindex if not active\n\n      const index = !this.isActive\n        ? getZIndex(content)\n        : this.getMaxZIndex(this.stackExclude || [content]) + 2\n\n      if (index == null) return index\n\n      // Return max current z-index (excluding self) + 2\n      // (2 to leave room for an overlay below, if needed)\n      return parseInt(index)\n    },\n  },\n  methods: {\n    getMaxZIndex (exclude: Element[] = []) {\n      const base = this.$el\n      // Start with lowest allowed z-index or z-index of\n      // base component's element, whichever is greater\n      const zis = [this.stackMinZIndex, getZIndex(base)]\n      // Convert the NodeList to an array to\n      // prevent an Edge bug with Symbol.iterator\n      // https://github.com/vuetifyjs/vuetify/issues/2146\n      const activeElements = [\n        ...document.getElementsByClassName('v-menu__content--active'),\n        ...document.getElementsByClassName('v-dialog__content--active'),\n      ]\n\n      // Get z-index for all active dialogs\n      for (let index = 0; index < activeElements.length; index++) {\n        if (!exclude.includes(activeElements[index])) {\n          zis.push(getZIndex(activeElements[index]))\n        }\n      }\n\n      return Math.max(...zis)\n    },\n  },\n})\n"],"file":"index.mjs"}