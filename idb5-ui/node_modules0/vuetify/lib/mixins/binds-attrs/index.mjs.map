{"version":3,"sources":["../../../src/mixins/binds-attrs/index.ts"],"names":["Vue","makeWatcher","property","val","oldVal","attr","Object","prototype","hasOwnProperty","call","$delete","$data","$set","extend","data","attrs$","listeners$","created","$watch","immediate"],"mappings":"AAAA;;AACA;AAEA,OAAOA,GAAP,MAAkC,KAAlC;AAEA;AACA;AACA;AACA;;AAEA,SAASC,WAAT,CAAsBC,QAAtB,EAA2E;AACzE,SAAO,UAAqBC,GAArB,EAA0BC,MAA1B,EAAkC;AACvC,SAAK,MAAMC,IAAX,IAAmBD,MAAnB,EAA2B;AACzB,UAAI,CAACE,MAAM,CAACC,SAAP,CAAiBC,cAAjB,CAAgCC,IAAhC,CAAqCN,GAArC,EAA0CE,IAA1C,CAAL,EAAsD;AACpD,aAAKK,OAAL,CAAa,KAAKC,KAAL,CAAWT,QAAX,CAAb,EAAmCG,IAAnC;AACD;AACF;;AACD,SAAK,MAAMA,IAAX,IAAmBF,GAAnB,EAAwB;AACtB,WAAKS,IAAL,CAAU,KAAKD,KAAL,CAAWT,QAAX,CAAV,EAAgCG,IAAhC,EAAsCF,GAAG,CAACE,IAAD,CAAzC;AACD;AACF,GATD;AAUD;;AAED,eAAeL,GAAG,CAACa,MAAJ,CAAW;AACxBC,EAAAA,IAAI,EAAE,OAAO;AACXC,IAAAA,MAAM,EAAE,EADG;AAEXC,IAAAA,UAAU,EAAE;AAFD,GAAP,CADkB;;AAMxBC,EAAAA,OAAO,GAAI;AACT;AACA;AACA,SAAKC,MAAL,CAAY,QAAZ,EAAsBjB,WAAW,CAAC,QAAD,CAAjC,EAA6C;AAAEkB,MAAAA,SAAS,EAAE;AAAb,KAA7C;AACA,SAAKD,MAAL,CAAY,YAAZ,EAA0BjB,WAAW,CAAC,YAAD,CAArC,EAAqD;AAAEkB,MAAAA,SAAS,EAAE;AAAb,KAArD;AACD;;AAXuB,CAAX,CAAf","sourcesContent":["// @ts-nocheck\n/* eslint-disable */\n\nimport Vue, { WatchHandler } from 'vue'\n\n/**\n * This mixin provides `attrs$` and `listeners$` to work around\n * vue bug https://github.com/vuejs/vue/issues/10115\n */\n\nfunction makeWatcher (property: string): ThisType<Vue> & WatchHandler<any> {\n  return function (this: Vue, val, oldVal) {\n    for (const attr in oldVal) {\n      if (!Object.prototype.hasOwnProperty.call(val, attr)) {\n        this.$delete(this.$data[property], attr)\n      }\n    }\n    for (const attr in val) {\n      this.$set(this.$data[property], attr, val[attr])\n    }\n  }\n}\n\nexport default Vue.extend({\n  data: () => ({\n    attrs$: {} as Dictionary<string>,\n    listeners$: {} as Dictionary<Function | Function[]>,\n  }),\n\n  created () {\n    // Work around unwanted re-renders: https://github.com/vuejs/vue/issues/10115\n    // Make sure to use `attrs$` instead of `$attrs` (confusing right?)\n    this.$watch('$attrs', makeWatcher('attrs$'), { immediate: true })\n    this.$watch('$listeners', makeWatcher('listeners$'), { immediate: true })\n  },\n})\n"],"file":"index.mjs"}