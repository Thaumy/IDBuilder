{"version":3,"sources":["../../../src/mixins/selectable/index.ts"],"names":["VInput","Rippleable","Comparable","mixins","prevent","e","preventDefault","extend","name","model","prop","event","props","id","String","inputValue","falseValue","trueValue","multiple","type","Boolean","default","label","data","hasColor","lazyValue","computed","computedColor","isActive","undefined","color","isDark","appIsDark","isMultiple","Array","isArray","internalValue","value","input","some","item","valueComparator","isDirty","rippleState","isDisabled","validationState","watch","val","methods","genLabel","options","call","on","click","genInput","attrs","$createElement","Object","assign","toString","disabled","computedId","role","domProps","checked","blur","onBlur","change","onChange","focus","onFocus","keydown","onKeydown","ref","isFocused","onClick","$emit","isInteractive","length","filter","push","validate"],"mappings":"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","sourcesContent":["// @ts-nocheck\n/* eslint-disable */\n\n// Components\nimport VInput from '../../components/VInput'\n\n// Mixins\nimport Rippleable from '../rippleable'\nimport Comparable from '../comparable'\n\n// Utilities\nimport mixins from '../../util/mixins'\n\nexport function prevent (e: Event) {\n  e.preventDefault()\n}\n\n/* @vue/component */\nexport default mixins(\n  VInput,\n  Rippleable,\n  Comparable\n).extend({\n  name: 'selectable',\n\n  model: {\n    prop: 'inputValue',\n    event: 'change',\n  },\n\n  props: {\n    id: String,\n    inputValue: null as any,\n    falseValue: null as any,\n    trueValue: null as any,\n    multiple: {\n      type: Boolean,\n      default: null,\n    },\n    label: String,\n  },\n\n  data () {\n    return {\n      hasColor: this.inputValue,\n      lazyValue: this.inputValue,\n    }\n  },\n\n  computed: {\n    computedColor (): string | undefined {\n      if (!this.isActive) return undefined\n      if (this.color) return this.color\n      if (this.isDark && !this.appIsDark) return 'white'\n      return 'primary'\n    },\n    isMultiple (): boolean {\n      return this.multiple === true || (this.multiple === null && Array.isArray(this.internalValue))\n    },\n    isActive (): boolean {\n      const value = this.value\n      const input = this.internalValue\n\n      if (this.isMultiple) {\n        if (!Array.isArray(input)) return false\n\n        return input.some(item => this.valueComparator(item, value))\n      }\n\n      if (this.trueValue === undefined || this.falseValue === undefined) {\n        return value\n          ? this.valueComparator(value, input)\n          : Boolean(input)\n      }\n\n      return this.valueComparator(input, this.trueValue)\n    },\n    isDirty (): boolean {\n      return this.isActive\n    },\n    rippleState (): string | undefined {\n      return !this.isDisabled && !this.validationState\n        ? undefined\n        : this.validationState\n    },\n  },\n\n  watch: {\n    inputValue (val) {\n      this.lazyValue = val\n      this.hasColor = val\n    },\n  },\n\n  methods: {\n    genLabel () {\n      const label = VInput.options.methods.genLabel.call(this)\n\n      if (!label) return label\n\n      label!.data!.on = {\n        // Label shouldn't cause the input to focus\n        click: prevent,\n      }\n\n      return label\n    },\n    genInput (type: string, attrs: object) {\n      return this.$createElement('input', {\n        attrs: Object.assign({\n          'aria-checked': this.isActive.toString(),\n          disabled: this.isDisabled,\n          id: this.computedId,\n          role: type,\n          type,\n        }, attrs),\n        domProps: {\n          value: this.value,\n          checked: this.isActive,\n        },\n        on: {\n          blur: this.onBlur,\n          change: this.onChange,\n          focus: this.onFocus,\n          keydown: this.onKeydown,\n          click: prevent,\n        },\n        ref: 'input',\n      })\n    },\n    onBlur () {\n      this.isFocused = false\n    },\n    onClick (e: Event) {\n      this.onChange()\n      this.$emit('click', e)\n    },\n    onChange () {\n      if (!this.isInteractive) return\n\n      const value = this.value\n      let input = this.internalValue\n\n      if (this.isMultiple) {\n        if (!Array.isArray(input)) {\n          input = []\n        }\n\n        const length = input.length\n\n        input = input.filter((item: any) => !this.valueComparator(item, value))\n\n        if (input.length === length) {\n          input.push(value)\n        }\n      } else if (this.trueValue !== undefined && this.falseValue !== undefined) {\n        input = this.valueComparator(input, this.trueValue) ? this.falseValue : this.trueValue\n      } else if (value) {\n        input = this.valueComparator(input, value) ? null : value\n      } else {\n        input = !input\n      }\n\n      this.validate(true, input)\n      this.internalValue = input\n      this.hasColor = input\n    },\n    onFocus () {\n      this.isFocused = true\n    },\n    /** @abstract */\n    onKeydown (e: Event) {},\n  },\n})\n"],"file":"index.mjs"}