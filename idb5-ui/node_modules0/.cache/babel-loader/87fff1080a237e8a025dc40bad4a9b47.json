{"ast":null,"code":"/************************************************************************\n *  Copyright 2010-2015 Brian McKelvey.\n *\n *  Licensed under the Apache License, Version 2.0 (the \"License\");\n *  you may not use this file except in compliance with the License.\n *  You may obtain a copy of the License at\n *\n *      http://www.apache.org/licenses/LICENSE-2.0\n *\n *  Unless required by applicable law or agreed to in writing, software\n *  distributed under the License is distributed on an \"AS IS\" BASIS,\n *  WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.\n *  See the License for the specific language governing permissions and\n *  limitations under the License.\n ***********************************************************************/\nvar util = require('util');\n\nvar EventEmitter = require('events').EventEmitter;\n\nfunction WebSocketRouterRequest(webSocketRequest, resolvedProtocol) {\n  // Superclass Constructor\n  EventEmitter.call(this);\n  this.webSocketRequest = webSocketRequest;\n\n  if (resolvedProtocol === '____no_protocol____') {\n    this.protocol = null;\n  } else {\n    this.protocol = resolvedProtocol;\n  }\n\n  this.origin = webSocketRequest.origin;\n  this.resource = webSocketRequest.resource;\n  this.resourceURL = webSocketRequest.resourceURL;\n  this.httpRequest = webSocketRequest.httpRequest;\n  this.remoteAddress = webSocketRequest.remoteAddress;\n  this.webSocketVersion = webSocketRequest.webSocketVersion;\n  this.requestedExtensions = webSocketRequest.requestedExtensions;\n  this.cookies = webSocketRequest.cookies;\n}\n\nutil.inherits(WebSocketRouterRequest, EventEmitter);\n\nWebSocketRouterRequest.prototype.accept = function (origin, cookies) {\n  var connection = this.webSocketRequest.accept(this.protocol, origin, cookies);\n  this.emit('requestAccepted', connection);\n  return connection;\n};\n\nWebSocketRouterRequest.prototype.reject = function (status, reason, extraHeaders) {\n  this.webSocketRequest.reject(status, reason, extraHeaders);\n  this.emit('requestRejected', this);\n};\n\nmodule.exports = WebSocketRouterRequest;","map":{"version":3,"sources":["/home/thaumy/Desktop/idb5-ui/node_modules/websocket/lib/WebSocketRouterRequest.js"],"names":["util","require","EventEmitter","WebSocketRouterRequest","webSocketRequest","resolvedProtocol","call","protocol","origin","resource","resourceURL","httpRequest","remoteAddress","webSocketVersion","requestedExtensions","cookies","inherits","prototype","accept","connection","emit","reject","status","reason","extraHeaders","module","exports"],"mappings":"AAAA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AAEA,IAAIA,IAAI,GAAGC,OAAO,CAAC,MAAD,CAAlB;;AACA,IAAIC,YAAY,GAAGD,OAAO,CAAC,QAAD,CAAP,CAAkBC,YAArC;;AAEA,SAASC,sBAAT,CAAgCC,gBAAhC,EAAkDC,gBAAlD,EAAoE;AAChE;AACAH,EAAAA,YAAY,CAACI,IAAb,CAAkB,IAAlB;AAEA,OAAKF,gBAAL,GAAwBA,gBAAxB;;AACA,MAAIC,gBAAgB,KAAK,qBAAzB,EAAgD;AAC5C,SAAKE,QAAL,GAAgB,IAAhB;AACH,GAFD,MAGK;AACD,SAAKA,QAAL,GAAgBF,gBAAhB;AACH;;AACD,OAAKG,MAAL,GAAcJ,gBAAgB,CAACI,MAA/B;AACA,OAAKC,QAAL,GAAgBL,gBAAgB,CAACK,QAAjC;AACA,OAAKC,WAAL,GAAmBN,gBAAgB,CAACM,WAApC;AACA,OAAKC,WAAL,GAAmBP,gBAAgB,CAACO,WAApC;AACA,OAAKC,aAAL,GAAqBR,gBAAgB,CAACQ,aAAtC;AACA,OAAKC,gBAAL,GAAwBT,gBAAgB,CAACS,gBAAzC;AACA,OAAKC,mBAAL,GAA2BV,gBAAgB,CAACU,mBAA5C;AACA,OAAKC,OAAL,GAAeX,gBAAgB,CAACW,OAAhC;AACH;;AAEDf,IAAI,CAACgB,QAAL,CAAcb,sBAAd,EAAsCD,YAAtC;;AAEAC,sBAAsB,CAACc,SAAvB,CAAiCC,MAAjC,GAA0C,UAASV,MAAT,EAAiBO,OAAjB,EAA0B;AAChE,MAAII,UAAU,GAAG,KAAKf,gBAAL,CAAsBc,MAAtB,CAA6B,KAAKX,QAAlC,EAA4CC,MAA5C,EAAoDO,OAApD,CAAjB;AACA,OAAKK,IAAL,CAAU,iBAAV,EAA6BD,UAA7B;AACA,SAAOA,UAAP;AACH,CAJD;;AAMAhB,sBAAsB,CAACc,SAAvB,CAAiCI,MAAjC,GAA0C,UAASC,MAAT,EAAiBC,MAAjB,EAAyBC,YAAzB,EAAuC;AAC7E,OAAKpB,gBAAL,CAAsBiB,MAAtB,CAA6BC,MAA7B,EAAqCC,MAArC,EAA6CC,YAA7C;AACA,OAAKJ,IAAL,CAAU,iBAAV,EAA6B,IAA7B;AACH,CAHD;;AAKAK,MAAM,CAACC,OAAP,GAAiBvB,sBAAjB","sourcesContent":["/************************************************************************\n *  Copyright 2010-2015 Brian McKelvey.\n *\n *  Licensed under the Apache License, Version 2.0 (the \"License\");\n *  you may not use this file except in compliance with the License.\n *  You may obtain a copy of the License at\n *\n *      http://www.apache.org/licenses/LICENSE-2.0\n *\n *  Unless required by applicable law or agreed to in writing, software\n *  distributed under the License is distributed on an \"AS IS\" BASIS,\n *  WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.\n *  See the License for the specific language governing permissions and\n *  limitations under the License.\n ***********************************************************************/\n\nvar util = require('util');\nvar EventEmitter = require('events').EventEmitter;\n\nfunction WebSocketRouterRequest(webSocketRequest, resolvedProtocol) {\n    // Superclass Constructor\n    EventEmitter.call(this);\n\n    this.webSocketRequest = webSocketRequest;\n    if (resolvedProtocol === '____no_protocol____') {\n        this.protocol = null;\n    }\n    else {\n        this.protocol = resolvedProtocol;\n    }\n    this.origin = webSocketRequest.origin;\n    this.resource = webSocketRequest.resource;\n    this.resourceURL = webSocketRequest.resourceURL;\n    this.httpRequest = webSocketRequest.httpRequest;\n    this.remoteAddress = webSocketRequest.remoteAddress;\n    this.webSocketVersion = webSocketRequest.webSocketVersion;\n    this.requestedExtensions = webSocketRequest.requestedExtensions;\n    this.cookies = webSocketRequest.cookies;\n}\n\nutil.inherits(WebSocketRouterRequest, EventEmitter);\n\nWebSocketRouterRequest.prototype.accept = function(origin, cookies) {\n    var connection = this.webSocketRequest.accept(this.protocol, origin, cookies);\n    this.emit('requestAccepted', connection);\n    return connection;\n};\n\nWebSocketRouterRequest.prototype.reject = function(status, reason, extraHeaders) {\n    this.webSocketRequest.reject(status, reason, extraHeaders);\n    this.emit('requestRejected', this);\n};\n\nmodule.exports = WebSocketRouterRequest;\n"]},"metadata":{},"sourceType":"script"}