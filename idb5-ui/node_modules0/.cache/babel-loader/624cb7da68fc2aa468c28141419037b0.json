{"ast":null,"code":"// Utilities\nimport { computed } from 'vue';\nimport { convertToUnit, propsFactory } from \"../util/index.mjs\"; // Types\n\nconst positionValues = ['static', 'relative', 'fixed', 'absolute', 'sticky']; // Composables\n\nexport const makePositionProps = propsFactory({\n  absolute: Boolean,\n  bottom: [Boolean, Number, String],\n  fixed: Boolean,\n  left: [Boolean, Number, String],\n  position: {\n    type: String,\n    validator:\n    /* istanbul ignore next */\n    v => positionValues.includes(v)\n  },\n  right: [Boolean, Number, String],\n  top: [Boolean, Number, String]\n}, 'position');\nexport function usePosition(props, name) {\n  const targets = ['top', 'right', 'bottom', 'left'];\n  const positionClasses = computed(() => {\n    if (props.fixed) return `${name}--fixed`;\n    if (props.absolute) return `${name}--absolute`;\n    return props.position ? `position-${props.position}` : undefined;\n  });\n  const positionStyles = computed(() => {\n    const styles = {};\n\n    for (const target of targets) {\n      const prop = props[target];\n      if (prop == null || prop === false) continue;\n      styles[target] = convertToUnit(prop === true ? '0' : String(prop));\n    }\n\n    return styles;\n  });\n  return {\n    positionClasses,\n    positionStyles\n  };\n}","map":{"version":3,"mappings":"AAAA;AACA,SAASA,QAAT,QAAyB,KAAzB;SACSC,eAAeC,oB,qBAExB;;AAGA,MAAMC,cAAc,GAAG,CAAC,QAAD,EAAW,UAAX,EAAuB,OAAvB,EAAgC,UAAhC,EAA4C,QAA5C,CAAvB,C,CAcA;;AACA,OAAO,MAAMC,iBAAiB,GAAGF,YAAY,CAAC;AAC5CG,UAAQ,EAAEC,OADkC;AAE5CC,QAAM,EAAE,CAACD,OAAD,EAAUE,MAAV,EAAkBC,MAAlB,CAFoC;AAG5CC,OAAK,EAAEJ,OAHqC;AAI5CK,MAAI,EAAE,CAACL,OAAD,EAAUE,MAAV,EAAkBC,MAAlB,CAJsC;AAK5CG,UAAQ,EAAE;AACRC,QAAI,EAAEJ,MADE;AAERK,aAAS;AAAE;AAA4BC,KAAD,IAAYZ,cAAc,CAACa,QAAfb,CAAwBY,CAAxBZ;AAF1C,GALkC;AAS5Cc,OAAK,EAAE,CAACX,OAAD,EAAUE,MAAV,EAAkBC,MAAlB,CATqC;AAU5CS,KAAG,EAAE,CAACZ,OAAD,EAAUE,MAAV,EAAkBC,MAAlB;AAVuC,CAAD,EAW1C,UAX0C,CAAtC;AAaP,OAAO,SAASU,WAAT,CAAsBC,KAAtB,EAA4CC,IAA5C,EAA0D;AAC/D,QAAMC,OAAO,GAAG,CAAC,KAAD,EAAQ,OAAR,EAAiB,QAAjB,EAA2B,MAA3B,CAAhB;AAEA,QAAMC,eAAe,GAAGvB,QAAQ,CAAC,MAAM;AACrC,QAAIoB,KAAK,CAACV,KAAV,EAAiB,OAAQ,GAAEW,IAAK,SAAf;AACjB,QAAID,KAAK,CAACf,QAAV,EAAoB,OAAQ,GAAEgB,IAAK,YAAf;AAEpB,WAAOD,KAAK,CAACR,QAANQ,GAAkB,YAAWA,KAAK,CAACR,QAAS,EAA5CQ,GAAgDI,SAAvD;AAJ8B,IAAhC;AAOA,QAAMC,cAAc,GAAGzB,QAAQ,CAAC,MAAM;AACpC,UAAM0B,MAAuD,GAAG,EAAhE;;AAEA,SAAK,MAAMC,MAAX,IAAqBL,OAArB,EAA8B;AAC5B,YAAMM,IAAI,GAAGR,KAAK,CAACO,MAAD,CAAlB;AAEA,UAAIC,IAAI,IAAI,IAARA,IAAgBA,IAAI,KAAK,KAA7B,EAAoC;AAEpCF,YAAM,CAACC,MAAD,CAAND,GAAiBzB,aAAa,CAAC2B,IAAI,KAAK,IAATA,GAAgB,GAAhBA,GAAsBnB,MAAM,CAACmB,IAAD,CAA7B,CAA9BF;AACD;;AAED,WAAOA,MAAP;AAX6B,IAA/B;AAcA,SAAO;AAAEH,mBAAF;AAAmBE;AAAnB,GAAP;AACD","names":["computed","convertToUnit","propsFactory","positionValues","makePositionProps","absolute","Boolean","bottom","Number","String","fixed","left","position","type","validator","v","includes","right","top","usePosition","props","name","targets","positionClasses","undefined","positionStyles","styles","target","prop"],"sources":["../../src/composables/position.ts"],"sourcesContent":["// Utilities\nimport { computed } from 'vue'\nimport { convertToUnit, propsFactory } from '@/util'\n\n// Types\nimport type { PropType } from 'vue'\n\nconst positionValues = ['static', 'relative', 'fixed', 'absolute', 'sticky'] as const\n\ntype Position = typeof positionValues[number]\n\nexport interface PositionProps {\n  absolute?: boolean\n  bottom?: boolean | number | string\n  fixed?: boolean\n  left?: boolean | number | string\n  position?: Position\n  right?: boolean | number | string\n  top?: boolean | number | string\n}\n\n// Composables\nexport const makePositionProps = propsFactory({\n  absolute: Boolean,\n  bottom: [Boolean, Number, String],\n  fixed: Boolean,\n  left: [Boolean, Number, String],\n  position: {\n    type: String as PropType<Position>,\n    validator: /* istanbul ignore next */ (v: any) => positionValues.includes(v),\n  },\n  right: [Boolean, Number, String],\n  top: [Boolean, Number, String],\n}, 'position')\n\nexport function usePosition (props: PositionProps, name: string) {\n  const targets = ['top', 'right', 'bottom', 'left'] as const\n\n  const positionClasses = computed(() => {\n    if (props.fixed) return `${name}--fixed`\n    if (props.absolute) return `${name}--absolute`\n\n    return props.position ? `position-${props.position}` : undefined\n  })\n\n  const positionStyles = computed(() => {\n    const styles: Partial<Record<typeof targets[number], string>> = {}\n\n    for (const target of targets) {\n      const prop = props[target]\n\n      if (prop == null || prop === false) continue\n\n      styles[target] = convertToUnit(prop === true ? '0' : String(prop))\n    }\n\n    return styles\n  })\n\n  return { positionClasses, positionStyles }\n}\n"]},"metadata":{},"sourceType":"module"}