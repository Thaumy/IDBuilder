{"ast":null,"code":"import { mergeProps as _mergeProps, resolveDirective as _resolveDirective, createVNode as _createVNode } from \"vue\"; // Styles\n\nimport \"./VSwitch.css\"; // Components\n\nimport { VSelectionControl } from \"../VSelectionControl/index.mjs\";\nimport { VInput } from \"../VInput/index.mjs\";\nimport { filterInputAttrs, filterInputProps } from \"../VInput/VInput.mjs\"; // Utility\n\nimport { defineComponent, ref } from 'vue';\nimport { useRender } from \"../../util/index.mjs\";\nimport { useProxiedModel } from \"../../composables/proxiedModel.mjs\";\nexport const VSwitch = defineComponent({\n  name: 'VSwitch',\n  inheritAttrs: false,\n  props: {\n    indeterminate: Boolean,\n    inset: Boolean,\n    loading: [Boolean, String],\n    flat: Boolean\n  },\n  emits: {\n    'update:indeterminate': val => true\n  },\n\n  setup(props, _ref) {\n    let {\n      attrs,\n      slots\n    } = _ref;\n    const indeterminate = useProxiedModel(props, 'indeterminate');\n\n    function onChange() {\n      if (indeterminate.value) {\n        indeterminate.value = false;\n      }\n    }\n\n    useRender(() => {\n      const [rootAttrs, inputAttrs] = filterInputAttrs(attrs);\n      const [rootProps, inputProps] = filterInputProps(inputAttrs);\n      const control = ref();\n\n      function onClick() {\n        var _control$value, _control$value$input;\n\n        (_control$value = control.value) == null ? void 0 : (_control$value$input = _control$value.input) == null ? void 0 : _control$value$input.click();\n      }\n\n      return _createVNode(VInput, _mergeProps({\n        \"class\": ['v-switch', {\n          'v-switch--indeterminate': indeterminate.value\n        }]\n      }, rootAttrs, rootProps), { ...slots,\n        default: _ref2 => {\n          let {\n            isDisabled,\n            isReadonly\n          } = _ref2;\n          return _createVNode(VSelectionControl, _mergeProps({\n            \"type\": \"checkbox\",\n            \"disabled\": isDisabled.value,\n            \"readonly\": isReadonly.value,\n            \"onUpdate:modelValue\": onChange,\n            \"aria-checked\": indeterminate.value ? 'mixed' : undefined,\n            \"ref\": control\n          }, inputProps), {\n            default: () => _createVNode(\"div\", {\n              \"class\": \"v-switch__track\",\n              \"onClick\": onClick\n            }, null, 8, [\"onClick\"]),\n            input: _ref3 => {\n              let {\n                textColorClasses\n              } = _ref3;\n              return _createVNode(\"div\", {\n                \"class\": ['v-switch__thumb', textColorClasses.value]\n              }, null, 2);\n            }\n          }, 16, [\"disabled\", \"readonly\", \"onUpdate:modelValue\", \"aria-checked\"]);\n        }\n      }, 16, [\"class\"]);\n    });\n    return {};\n  }\n\n});","map":{"version":3,"mappings":"qHAAA;;AACA,uB,CAEA;;SACSA,yB;SACAC,c;SACAC,kBAAkBC,wB,wBAE3B;;AACA,SAASC,eAAT,EAA0BC,GAA1B,QAAqC,KAArC;SACSC,iB;SACAC,uB;AAET,OAAO,MAAMC,OAAO,GAAGJ,eAAe,CAAC;AACrCK,MAAI,EAAE,SAD+B;AAGrCC,cAAY,EAAE,KAHuB;AAKrCC,OAAK,EAAE;AACLC,iBAAa,EAAEC,OADV;AAELC,SAAK,EAAED,OAFF;AAGLE,WAAO,EAAE,CAACF,OAAD,EAAUG,MAAV,CAHJ;AAILC,QAAI,EAAEJ;AAJD,GAL8B;AAWrCK,OAAK,EAAE;AACL,4BAAyBC,GAAD,IAAkB;AADrC,GAX8B;;AAerCC,OAAK,CAAET,KAAF,QAA2B;AAAA,QAAlB;AAAEU,WAAF;AAASC;AAAT,QAAkBC;AAC9B,UAAMX,aAAa,GAAGL,eAAe,CAACI,KAAD,EAAQ,eAAR,CAArC;;AACA,aAASa,QAAT,GAAqB;AACnB,UAAIZ,aAAa,CAACa,KAAlB,EAAyB;AACvBb,qBAAa,CAACa,KAAdb,GAAsB,KAAtBA;AACD;AACF;;AAEDN,aAAS,CAAC,MAAM;AACd,YAAM,CAACoB,SAAD,EAAYC,UAAZ,IAA0BzB,gBAAgB,CAACmB,KAAD,CAAhD;AACA,YAAM,CAACO,SAAD,EAAYC,UAAZ,IAA0B1B,gBAAgB,CAACwB,UAAD,CAAhD;AACA,YAAMG,OAAO,GAAGzB,GAAG,EAAnB;;AAEA,eAAS0B,OAAT,GAAoB;AAAA;;AAClB,iCAAO,CAACN,KAAR,4DAAeO,KAAf,0CAAsBC,KAAtB;AACD;;AAED;AAAA,iBAEW,CACL,UADK,EAEL;AAAE,qCAA2BrB,aAAa,CAACa;AAA3C,SAFK;AAFX,SAMSC,SANT,EAOSE,SAPT,GAQa,EACP,GAAGN,KADI;AAEPY,eAAO,EAAEC;AAAA,cAAC;AACRC,sBADQ;AAERC;AAFQ,cAADF;AAAA;AAAA,oBAKA,UALA;AAAA,wBAMMC,UAAU,CAACX,KANjB;AAAA,wBAOMY,UAAU,CAACZ,KAPjB;AAAA,mCAQiBD,QARjB;AAAA,4BASUZ,aAAa,CAACa,KAAdb,GAAsB,OAAtBA,GAAgC0B,SAT1C;AAAA,mBAUCR;AAVD,aAWAD,UAXA,GAYI;AACPK,mBAAO,EAAE;AAAA,uBAAkB,iBAAlB;AAAA,yBAA8CH;AAA9C,oCADF;AAEPC,iBAAK,EAAEO;AAAA,kBAAC;AAAEC;AAAF,kBAADD;AAAA;AAAA,yBAEI,CACL,iBADK,EAELC,gBAAgB,CAACf,KAFZ;AAFJ;AAAA;AAFA,WAZJ;AAAA;AAFF,OARb;AATO,MAATnB;AAiDA,WAAO,EAAP;AACD;;AAzEoC,CAAD,CAA/B","names":["VSelectionControl","VInput","filterInputAttrs","filterInputProps","defineComponent","ref","useRender","useProxiedModel","VSwitch","name","inheritAttrs","props","indeterminate","Boolean","inset","loading","String","flat","emits","val","setup","attrs","slots","_ref","onChange","value","rootAttrs","inputAttrs","rootProps","inputProps","control","onClick","input","click","default","_ref2","isDisabled","isReadonly","undefined","_ref3","textColorClasses"],"sources":["../../../src/components/VSwitch/VSwitch.tsx"],"sourcesContent":["// Styles\nimport './VSwitch.sass'\n\n// Components\nimport { VSelectionControl } from '@/components/VSelectionControl'\nimport { VInput } from '@/components/VInput'\nimport { filterInputAttrs, filterInputProps } from '@/components/VInput/VInput'\n\n// Utility\nimport { defineComponent, ref } from 'vue'\nimport { useRender } from '@/util'\nimport { useProxiedModel } from '@/composables/proxiedModel'\n\nexport const VSwitch = defineComponent({\n  name: 'VSwitch',\n\n  inheritAttrs: false,\n\n  props: {\n    indeterminate: Boolean,\n    inset: Boolean,\n    loading: [Boolean, String],\n    flat: Boolean,\n  },\n  emits: {\n    'update:indeterminate': (val: boolean) => true,\n  },\n\n  setup (props, { attrs, slots }) {\n    const indeterminate = useProxiedModel(props, 'indeterminate')\n    function onChange () {\n      if (indeterminate.value) {\n        indeterminate.value = false\n      }\n    }\n\n    useRender(() => {\n      const [rootAttrs, inputAttrs] = filterInputAttrs(attrs)\n      const [rootProps, inputProps] = filterInputProps(inputAttrs)\n      const control = ref<VSelectionControl>()\n\n      function onClick () {\n        control.value?.input?.click()\n      }\n\n      return (\n        <VInput\n          class={[\n            'v-switch',\n            { 'v-switch--indeterminate': indeterminate.value },\n          ]}\n          { ...rootAttrs }\n          { ...rootProps }\n          v-slots={{\n            ...slots,\n            default: ({\n              isDisabled,\n              isReadonly,\n            }) => (\n              <VSelectionControl\n                type=\"checkbox\"\n                disabled={ isDisabled.value }\n                readonly={ isReadonly.value }\n                onUpdate:modelValue={ onChange }\n                aria-checked={ indeterminate.value ? 'mixed' : undefined }\n                ref={ control }\n                { ...inputProps }\n                v-slots={{\n                  default: () => (<div class=\"v-switch__track\" onClick={ onClick }></div>),\n                  input: ({ textColorClasses }) => (\n                    <div\n                      class={[\n                        'v-switch__thumb',\n                        textColorClasses.value,\n                      ]}\n                    />\n                  ),\n                }}\n              />\n            ),\n          }}\n        />\n      )\n    })\n\n    return {}\n  },\n})\n\nexport type VSwitch = InstanceType<typeof VSwitch>\n"]},"metadata":{},"sourceType":"module"}